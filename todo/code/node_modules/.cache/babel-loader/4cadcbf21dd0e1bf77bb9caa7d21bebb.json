{"ast":null,"code":"import _slicedToArray from\"/Users/mv/Downloads/REACT/youtube/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import TodoList from\"./Todo/TodoList\";import Context from\"./context\";import Loader from\"./Loader\";import useLocalStorageState from\"use-local-storage-state\";var AddTodo=React.lazy(function(){return import(\"./Todo/AddTodo\");});var Wrap=function Wrap(){var _useLocalStorageState=useLocalStorageState(\"todos\",[]),_useLocalStorageState2=_slicedToArray(_useLocalStorageState,2),todos=_useLocalStorageState2[0],setTodos=_useLocalStorageState2[1];var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];useEffect(function(){setTimeout(function(){setLoading(false);},0);},[]);var toggleTodo=function toggleTodo(id){setTodos(todos.map(function(todo){if(todo.id===id){todo.completed=!todo.completed;}return todo;}));};var removeTodo=function removeTodo(id){setTodos(todos.filter(function(todo){return todo.id!==id;}));};var addTodo=function addTodo(title){setTodos(todos.concat([{title:title,id:Date.now(),completed:false}]));};return/*#__PURE__*/React.createElement(Context.Provider,{value:{removeTodo:removeTodo}},/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper\"},/*#__PURE__*/React.createElement(\"h1\",null,\"To Do App\"),/*#__PURE__*/React.createElement(React.Suspense,{fallback:/*#__PURE__*/React.createElement(\"p\",null,\"Loading...\")},/*#__PURE__*/React.createElement(AddTodo,{onCreate:addTodo})),loading&&/*#__PURE__*/React.createElement(Loader,null),todos.length?/*#__PURE__*/React.createElement(TodoList,{todos:todos,onToggle:toggleTodo}):loading?null:/*#__PURE__*/React.createElement(\"p\",null,\" All done. Add some new tasks. \")));};export default Wrap;","map":{"version":3,"sources":["/Users/mv/Downloads/REACT/youtube/src/Wrap.js"],"names":["React","useState","useEffect","TodoList","Context","Loader","useLocalStorageState","AddTodo","lazy","Wrap","todos","setTodos","loading","setLoading","setTimeout","toggleTodo","id","map","todo","completed","removeTodo","filter","addTodo","title","concat","Date","now","length"],"mappings":"wJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,QAAP,KAAqB,iBAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,oBAAP,KAAiC,yBAAjC,CAEA,GAAMC,CAAAA,OAAO,CAAGP,KAAK,CAACQ,IAAN,CAAW,iBAAM,QAAO,gBAAP,CAAN,EAAX,CAAhB,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,2BACSH,oBAAoB,CAAC,OAAD,CAAU,EAAV,CAD7B,gEACVI,KADU,2BACHC,QADG,yCAEaV,QAAQ,CAAC,IAAD,CAFrB,wCAEVW,OAFU,eAEDC,UAFC,eAIjBX,SAAS,CAAC,UAAM,CACdY,UAAU,CAAC,UAAM,CACfD,UAAU,CAAC,KAAD,CAAV,CACD,CAFS,CAEP,CAFO,CAAV,CAGD,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAME,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,EAAD,CAAQ,CACzBL,QAAQ,CACND,KAAK,CAACO,GAAN,CAAU,SAACC,IAAD,CAAU,CAClB,GAAIA,IAAI,CAACF,EAAL,GAAYA,EAAhB,CAAoB,CAClBE,IAAI,CAACC,SAAL,CAAiB,CAACD,IAAI,CAACC,SAAvB,CACD,CACD,MAAOD,CAAAA,IAAP,CACD,CALD,CADM,CAAR,CAQD,CATD,CAWA,GAAME,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACJ,EAAD,CAAQ,CACzBL,QAAQ,CAACD,KAAK,CAACW,MAAN,CAAa,SAACH,IAAD,QAAUA,CAAAA,IAAI,CAACF,EAAL,GAAYA,EAAtB,EAAb,CAAD,CAAR,CACD,CAFD,CAIA,GAAMM,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,CACzBZ,QAAQ,CACND,KAAK,CAACc,MAAN,CAAa,CACX,CACED,KAAK,CAALA,KADF,CAEEP,EAAE,CAAES,IAAI,CAACC,GAAL,EAFN,CAGEP,SAAS,CAAE,KAHb,CADW,CAAb,CADM,CAAR,CASD,CAVD,CAWA,mBACE,oBAAC,OAAD,CAAS,QAAT,EAAkB,KAAK,CAAE,CAAEC,UAAU,CAAVA,UAAF,CAAzB,eACE,2BAAK,SAAS,CAAC,SAAf,eACE,0CADF,cAGE,oBAAC,KAAD,CAAO,QAAP,EAAgB,QAAQ,cAAE,0CAA1B,eACE,oBAAC,OAAD,EAAS,QAAQ,CAAEE,OAAnB,EADF,CAHF,CAOGV,OAAO,eAAI,oBAAC,MAAD,MAPd,CASGF,KAAK,CAACiB,MAAN,cACC,oBAAC,QAAD,EAAU,KAAK,CAAEjB,KAAjB,CAAwB,QAAQ,CAAEK,UAAlC,EADD,CAEGH,OAAO,CAAG,IAAH,cACT,+DAZJ,CADF,CADF,CAmBD,CAvDD,CAyDA,cAAeH,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport TodoList from \"./Todo/TodoList\";\nimport Context from \"./context\";\nimport Loader from \"./Loader\";\nimport useLocalStorageState from \"use-local-storage-state\";\n\nconst AddTodo = React.lazy(() => import(\"./Todo/AddTodo\"));\n\nconst Wrap = () => {\n  const [todos, setTodos] = useLocalStorageState(\"todos\", []);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    setTimeout(() => {\n      setLoading(false);\n    }, 0);\n  }, []);\n\n  const toggleTodo = (id) => {\n    setTodos(\n      todos.map((todo) => {\n        if (todo.id === id) {\n          todo.completed = !todo.completed;\n        }\n        return todo;\n      })\n    );\n  };\n\n  const removeTodo = (id) => {\n    setTodos(todos.filter((todo) => todo.id !== id));\n  };\n\n  const addTodo = (title) => {\n    setTodos(\n      todos.concat([\n        {\n          title,\n          id: Date.now(),\n          completed: false,\n        },\n      ])\n    );\n  };\n  return (\n    <Context.Provider value={{ removeTodo }}>\n      <div className=\"wrapper\">\n        <h1>To Do App</h1>\n\n        <React.Suspense fallback={<p>Loading...</p>}>\n          <AddTodo onCreate={addTodo} />\n        </React.Suspense>\n\n        {loading && <Loader />}\n\n        {todos.length ? (\n          <TodoList todos={todos} onToggle={toggleTodo} />\n        ) : loading ? null : (\n          <p> All done. Add some new tasks. </p>\n        )}\n      </div>\n    </Context.Provider>\n  );\n};\n\nexport default Wrap;\n"]},"metadata":{},"sourceType":"module"}